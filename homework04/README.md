# 高级数据库系统技术第 04 次作业

## 练习一

已知关系模式 R(A, B, C, D, E)，其中 AB 为码，函数依赖集 F = {AB -> E, B -> C, C -> D}：

1. 该关系模式满足 2NF 吗？为什么？

   答：该关系不满足 2NF。2NF 要求所有非主属性依赖于所有主码，但 C 仅由 B 决定，不满足上述要求。
2. 如果将关系模式分解为：

   + R1(A, B, E)
   + R2(B, C, D)

   指出关系模式 R2 的码，并说明该关系模式最高满足第几范式？

   答：关系模式 R2 的码为 B。该关系最高满足第二范式。
3. 将关系模式 R 分解到 BCNF。

   答：将关系模式 R 分解为如下关系即可满足 BCNF。

   + R1(A, B, E)
   + R2(B, C)
   + R3(C, D)

## 练习二

已知关系模式 R(A, B, C, D, E) 的函数依赖集 F = {A -> BC, CD -> E, B -> D, E -> A}：

1. 计算 F 的闭包。

   答：推理过程如下。

   + 由 A -> BC 可得 A -> B、A -> C。
   + 由 A -> B、B -> D 可得 A -> D。
   + 由 A -> C、A -> D、CD -> E 可得 A -> E。

   综上，$F^+$={A -> BC, A -> B, A -> C, A -> D, CD -> E, A -> E, E -> A}

2. 列出 R 的候选码。

   答：由 1.，只有 $F^+$ 的左值可能为候选码。

   于是：

   + 计算 $(A)_F^+$：记 $(A)^0=A$，则 $(A)^1=A \cup BCDE=ABCDE=R$，于是 $(A)_F^+=R$，即 A 是 R 的候选码；
   + 计算 $(CD)_F^+$：记 $(CD)^0=CD$，则 $(CD)^1=CD=(CD)^0$，于是 $(CD)_F^+ \neq R$，即 CD 不是 R 的候选码；
   + 计算 $(E)_F^+$：记 $(E)^0=E$，则 $(E)^1=E \cup A =EA$，$(E)^2=EA \cup BCD=EABCD=R$，于是 $(E)_F^+ \neq R$，即 E 是 R 的候选码。

   综上，R 的候选码有：A、E。

   